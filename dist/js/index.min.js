document.addEventListener("DOMContentLoaded",(function(){menu(),adv__slider(),filter__products(),teamSlider(),popap(),totop()}));const teamSlider=()=>{const e=document.querySelectorAll("#team .slider__controlls .control"),t=document.querySelectorAll("#team .content .item");let l=0;function o(){t.forEach(e=>{e.classList.remove("active")}),t[l].classList.add("active");for(let e=1;e<=l;e++)console.log(l-e),t[l-e].style=`\n                transform: translate(${-50-30*e}%, ${-50-5*e}%);\n                z-index: ${t.length-e};\n                opacity: ${.2*(t.length-e)-.2};\n            `;for(let e=l;e<t.length;e++)t[e].style=`\n                transform: translate(${30*(e-l)-50}%, ${-50-5*(e-l)}%);\n                z-index: ${l-e};\n                opacity: ${1-.2*(e-l)};\n            `;t[l].style="transform: translate(-50%, -50%); z-index: 6;"}o(),e.forEach(e=>{e.addEventListener("click",(function(){e.classList.contains("forw")?l<t.length-1&&(l++,o()):l>0&&(l--,o())}))})},adv__slider=()=>{const e=document.querySelectorAll("#adv__slider .slider__controlls .control"),t=document.querySelectorAll("#adv__slider .slider .item"),l=Math.round(document.querySelector("#adv__slider .slider").getBoundingClientRect().width/t[0].getBoundingClientRect().width);let o=0;e.forEach(c=>{c.addEventListener("click",(function(){this.classList.contains("forw")?o<t.length-l?o++:o=o:o>0?o--:o=o,t.forEach(e=>{e.style=`transform: translateX(${e.getBoundingClientRect().width*-o-20*o}px)`}),0==o?e[0].classList.add("disabled"):o==t.length-l?e[1].classList.add("disabled"):e.forEach(e=>{e.classList.remove("disabled")})}))})},filter__products=()=>{const e=document.querySelectorAll("#products .product__nav a"),t=document.querySelectorAll("#products .content .item");function l(e){t.forEach(t=>{"all"!=e?(t.classList.remove("active"),t.getAttribute("data-filter")==e&&(console.log("123"),t.classList.add("active"))):t.classList.add("active")})}e.forEach(t=>{t.addEventListener("click",(function(){switch(e.forEach(e=>{e.classList.remove("active")}),this.classList.add("active"),t.getAttribute("data--filter-inp")){case"all":l("all");break;case"cake":l("cake");break;case"smallcake":l("smallcake");break;case"cupcake":l("cupcake")}}))}),l("all")},popap=()=>{const e=document.querySelectorAll("a[data--popap-toggle]"),t=document.querySelectorAll(".popap"),l=document.querySelectorAll(".popap .btn--close, .popap .nobtn--close");e.forEach(e=>{e.addEventListener("click",(function(t){this.style="z-index: 200;",document.querySelector(`.popap[data--popap='${e.getAttribute("data--popap-toggle")}']`).classList.toggle("open"),document.querySelector("html").classList.toggle("hidden"),document.querySelectorAll(".section, .header").forEach(e=>e.style=`padding-right: ${getScrollbarWidth()}px`)}))}),t.forEach(e=>{e.addEventListener("click",(function(t){t.target.closest(".popap__inner")||(e.classList.remove("open"),document.querySelector("html").classList.toggle("hidden"),document.querySelectorAll(".section, .header").forEach(e=>e.style="padding-right: 0px"))}))}),l.forEach(e=>{e.addEventListener("click",(function(){document.querySelector(".popap.open").classList.remove("open"),document.querySelector("html").classList.remove("hidden"),document.querySelectorAll(".section, .header").forEach(e=>e.style="padding-right: 0px")}))})},menu=()=>{const e=document.querySelector(".btn--bar"),t=document.querySelector(".header"),l=document.querySelectorAll(".header .nav a");function o(){e.classList.toggle("active"),t.classList.toggle("mobile--active"),document.querySelector("html").classList.toggle("hidden")}e.addEventListener("click",(function(){o()})),l.forEach(e=>{e.addEventListener("click",(function(){t.classList.contains("mobile--active")&&o()}))})},totop=()=>{document.querySelector("#btn--totop").addEventListener("click",(function(e){e.preventDefault(),document.querySelector("html").scrollTo(0,0),history.pushState(null,null,"/index.html")}))};function getScrollbarWidth(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const l=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),l}